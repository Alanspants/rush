### proj deep dive

#### 羊

【数据库层面】

redis有以下缺陷：

- 大量缓存同时失效：
  - 在存数据的时候加一个随机值即可
  - 热点数据永不过期
  - 用一个互斥锁，多个请求同时读，先上锁。
- 前端没有做参数限制，比如mysql里的用户id是从0开始存的，发现前端传入了大量userid=-1的请求，直接透传到mysql，从而把mysql打垮：
  - 布隆过滤器：对于第二种场景，可以高效的利用数据结构和算法判断这个key在库中存不存在，如果不存在就直接return。
  - 参数校验



